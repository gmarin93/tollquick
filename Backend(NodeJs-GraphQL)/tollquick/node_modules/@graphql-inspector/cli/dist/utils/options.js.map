{"version":3,"file":"options.js","sourceRoot":"","sources":["../../src/utils/options.ts"],"names":[],"mappings":";;;;;;;;;;;;;AAAA,SAAgB,IAAI;IAAC,qBAAqB;SAArB,UAAqB,EAArB,qBAAqB,EAArB,IAAqB;QAArB,gCAAqB;;IACxC,OAAO,UAAC,KAAU;QAChB,OAAO,WAAW,CAAC,MAAM,CAAC,UAAC,GAAG,EAAE,EAAE,IAAK,OAAA,EAAE,CAAC,GAAG,CAAC,EAAP,CAAO,EAAE,KAAK,CAAC,CAAC;IACzD,CAAC,CAAC;AACJ,CAAC;AAJD,oBAIC;AAED,SAAgB,UAAU,CAAC,OAAY;IACrC,IAAI,OAAO,CAAC,OAAO,EAAE;QACnB,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,UAAC,GAAQ,IAAK,OAAA,OAAO,CAAC,GAAG,CAAC,EAAZ,CAAY,CAAC,CAAC;KACrD;IACD,OAAO,OAAO,CAAC;AACjB,CAAC;AALD,gCAKC;AAED,SAAS,cAAc,CAAC,OAAY;IAClC,oBACK,OAAO,IACV,KAAK,EAAE,OAAO,CAAC,MAAM,CAAC,KAAK,IAC3B;AACJ,CAAC;AAED,SAAS,gBAAgB,CAAC,OAAY;IACpC,oBACK,OAAO,IACV,OAAO,EACL,OAAO,OAAO,CAAC,MAAM,CAAC,MAAM,KAAK,WAAW,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,MAAM,IAC3E;AACJ,CAAC;AAED,SAAS,gBAAgB,CAAC,OAAY;IACpC,IAAI,OAAO,OAAO,CAAC,MAAM,CAAC,OAAO,KAAK,WAAW,EAAE;QACjD,oBACK,OAAO,IACV,OAAO,EAAE,EAAE,IACX;KACH;IAED,IAAM,UAAU,GAAG,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC;QACtD,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO;QACxB,CAAC,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;IAE7B,oBACK,OAAO,IACV,OAAO,EAAE,UAAU,IACnB;AACJ,CAAC;AAED,SAAgB,gBAAgB,CAAC,OAAY;IAC3C,OAAO,IAAI,CACT,gBAAgB,EAChB,gBAAgB,EAChB,UAAU,EACV,cAAc,CACf,CAAC,OAAO,CAAC,CAAC;AACb,CAAC;AAPD,4CAOC","sourcesContent":["export function pipe(...middlewares: any[]) {\n  return (value: any) => {\n    return middlewares.reduce((val, fn) => fn(val), value);\n  };\n}\n\nexport function useRequire(options: any) {\n  if (options.require) {\n    options.require.forEach((mod: any) => require(mod));\n  }\n  return options;\n}\n\nfunction normalizeToken(options: any) {\n  return {\n    ...options,\n    token: options.parent.token,\n  };\n}\n\nfunction normalizeHeaders(options: any) {\n  return {\n    ...options,\n    headers:\n      typeof options.parent.header === 'undefined' ? {} : options.parent.header,\n  };\n}\n\nfunction normalizeRequire(options: any) {\n  if (typeof options.parent.require === 'undefined') {\n    return {\n      ...options,\n      require: [],\n    };\n  }\n\n  const normalized = Array.isArray(options.parent.require)\n    ? options.parent.require\n    : [options.parent.require];\n\n  return {\n    ...options,\n    require: normalized,\n  };\n}\n\nexport function normalizeOptions(options: any) {\n  return pipe(\n    normalizeHeaders,\n    normalizeRequire,\n    useRequire,\n    normalizeToken,\n  )(options);\n}\n"]}